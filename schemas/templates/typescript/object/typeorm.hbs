import { EntitySchema } from "typeorm"
import { {{ getType obj }} } from '{{ getImportPath obj }}'

export const {{ getType obj }}Entity = new EntitySchema<{{ getType obj }}>({
    name: '{{ lc (getName obj) }}',
    columns: {
        {{#each obj.properties}}
        {{ @key }}: {
            type: '{{ type }}',
            {{#if persistence.primary }}primary: {{ persistence.primary }},{{/if}}
            {{#if persistence.generated }}generated: '{{ persistence.generated }}',{{/if}}
            {{#if maxLength }}length: {{ maxLength }},{{/if}}
            nullable: {{ propOptional ../obj @key }},
        },
        {{/each}}
    }
})
